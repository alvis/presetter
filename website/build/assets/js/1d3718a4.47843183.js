"use strict";(self.webpackChunkpresetter_website=self.webpackChunkpresetter_website||[]).push([[8402],{6839:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"tutorials/migration-guides/from-cra","title":"Migrating from Create React App","description":"Complete guide to migrating Create React App projects to Presetter with modern tooling","source":"@site/docs/tutorials/migration-guides/from-cra.md","sourceDirName":"tutorials/migration-guides","slug":"/tutorials/migration-guides/from-cra","permalink":"/presetter/docs/tutorials/migration-guides/from-cra","draft":false,"unlisted":false,"editUrl":"https://github.com/alvis/presetter/tree/master/website/docs/tutorials/migration-guides/from-cra.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Migrating from Create React App","description":"Complete guide to migrating Create React App projects to Presetter with modern tooling"},"sidebar":"tutorialSidebar","previous":{"title":"Migration Guides","permalink":"/presetter/docs/tutorials/migration-guides/"},"next":{"title":"New Project Setup","permalink":"/presetter/docs/tutorials/new-project"}}');var i=t(4848),r=t(8453);const a={sidebar_position:2,title:"Migrating from Create React App",description:"Complete guide to migrating Create React App projects to Presetter with modern tooling"},o="Migrating from Create React App \ud83c\udfaf",l={},c=[{value:"Why Migrate from CRA?",id:"why-migrate-from-cra",level:2},{value:"\u274c CRA Limitations",id:"-cra-limitations",level:3},{value:"\u2705 Presetter Benefits",id:"-presetter-benefits",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Migration Steps",id:"migration-steps",level:2},{value:"Step 1: Analyze Your CRA Project",id:"step-1-analyze-your-cra-project",level:3},{value:"Step 2: Backup Your Project",id:"step-2-backup-your-project",level:3},{value:"Step 3: Remove CRA Dependencies",id:"step-3-remove-cra-dependencies",level:3},{value:"Step 4: Install Presetter",id:"step-4-install-presetter",level:3},{value:"Step 5: Configure Presetter",id:"step-5-configure-presetter",level:3},{value:"Step 6: Handle Public Directory",id:"step-6-handle-public-directory",level:3},{value:"Step 7: Update Source Files",id:"step-7-update-source-files",level:3},{value:"Step 8: Handle Environment Variables",id:"step-8-handle-environment-variables",level:3},{value:"Step 9: Update Testing Setup",id:"step-9-update-testing-setup",level:3},{value:"Step 10: Handle CSS and Assets",id:"step-10-handle-css-and-assets",level:3},{value:"Step 11: Update Package Scripts",id:"step-11-update-package-scripts",level:3},{value:"Step 12: Test the Migration",id:"step-12-test-the-migration",level:3},{value:"Common Migration Issues",id:"common-migration-issues",level:2},{value:"Issue 1: Import Path Errors",id:"issue-1-import-path-errors",level:3},{value:"Issue 2: Environment Variables Not Working",id:"issue-2-environment-variables-not-working",level:3},{value:"Issue 3: CSS Module Typing Issues",id:"issue-3-css-module-typing-issues",level:3},{value:"Issue 4: Build Output Differences",id:"issue-4-build-output-differences",level:3},{value:"Performance Improvements",id:"performance-improvements",level:2},{value:"Build Performance",id:"build-performance",level:3},{value:"Development Server",id:"development-server",level:3},{value:"Hot Module Replacement",id:"hot-module-replacement",level:3},{value:"Advanced Customizations",id:"advanced-customizations",level:2},{value:"Adding Storybook Support",id:"adding-storybook-support",level:3},{value:"Adding PWA Support",id:"adding-pwa-support",level:3},{value:"Migration Checklist",id:"migration-checklist",level:2},{value:"\u2705 Pre-Migration",id:"-pre-migration",level:3},{value:"\u2705 During Migration",id:"-during-migration",level:3},{value:"\u2705 Post-Migration",id:"-post-migration",level:3},{value:"\u2705 Optimization",id:"-optimization",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"migrating-from-create-react-app-",children:"Migrating from Create React App \ud83c\udfaf"})}),"\n",(0,i.jsx)(n.p,{children:"Transform your Create React App (CRA) project to use Presetter's modern, flexible tooling while maintaining all functionality. This migration unlocks full control over your build configuration and development experience."}),"\n",(0,i.jsx)(n.h2,{id:"why-migrate-from-cra",children:"Why Migrate from CRA?"}),"\n",(0,i.jsx)(n.h3,{id:"-cra-limitations",children:"\u274c CRA Limitations"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Limited configuration control"})," - No access to Webpack config without ejecting"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Outdated tooling"})," - Slower builds with older Webpack versions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundle size overhead"})," - Includes unnecessary polyfills and code"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Development constraints"})," - Restricted customization options"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-presetter-benefits",children:"\u2705 Presetter Benefits"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Full configuration access"})," - Customize any aspect of the build"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Modern tooling"})," - Vite, ESBuild, and latest TypeScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Better performance"})," - Faster builds and Hot Module Replacement"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Flexible architecture"})," - Easy to extend and modify"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Existing Create React App project"}),"\n",(0,i.jsx)(n.li,{children:"Node.js 18+ and pnpm installed"}),"\n",(0,i.jsx)(n.li,{children:"Git repository (for backup)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"migration-steps",children:"Migration Steps"}),"\n",(0,i.jsx)(n.h3,{id:"step-1-analyze-your-cra-project",children:"Step 1: Analyze Your CRA Project"}),"\n",(0,i.jsx)(n.p,{children:"First, understand what you're working with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Check CRA version\nnpm list react-scripts\n\n# Review your package.json\ncat package.json | jq '.dependencies, .devDependencies, .scripts'\n\n# Identify custom configurations\nls -la | grep -E \"\\.(json|js|ts)$\"\n"})}),"\n",(0,i.jsx)(n.p,{children:"Common CRA project structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my-cra-app/\n\u251c\u2500\u2500 public/\n\u2502   \u251c\u2500\u2500 index.html\n\u2502   \u2514\u2500\u2500 favicon.ico\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 App.tsx\n\u2502   \u251c\u2500\u2500 index.tsx\n\u2502   \u2514\u2500\u2500 components/\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 README.md\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-2-backup-your-project",children:"Step 2: Backup Your Project"}),"\n",(0,i.jsx)(n.p,{children:"Create a safety net before making changes:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Create backup branch\ngit checkout -b backup-before-presetter\ngit add .\ngit commit -m "Backup before migrating from CRA to Presetter"\n\n# Return to main branch for migration\ngit checkout main\ngit checkout -b migrate-to-presetter\n'})}),"\n",(0,i.jsx)(n.h3,{id:"step-3-remove-cra-dependencies",children:"Step 3: Remove CRA Dependencies"}),"\n",(0,i.jsx)(n.p,{children:"Remove Create React App dependencies:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Remove react-scripts and related packages\npnpm remove react-scripts\n\n# Remove testing dependencies (we'll add them back)\npnpm remove @testing-library/jest-dom @testing-library/react @testing-library/user-event\n\n# Remove type definitions that Presetter will manage\npnpm remove @types/jest @types/node @types/react @types/react-dom\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-4-install-presetter",children:"Step 4: Install Presetter"}),"\n",(0,i.jsx)(n.p,{children:"Add Presetter and the React preset:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install Presetter and React preset\npnpm add -D presetter presetter-preset-react\n\n# Bootstrap the configuration\npresetter bootstrap\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-5-configure-presetter",children:"Step 5: Configure Presetter"}),"\n",(0,i.jsx)(n.p,{children:"Create your Presetter configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="presetter.config.ts"',children:"import presetReact from 'presetter-preset-react';\n\nexport default presetReact({\n  variables: {\n    // Match your CRA setup\n    source: 'src',\n    output: 'build',        // CRA builds to 'build' directory\n    port: 3000,             // Default CRA port\n    \n    // Public directory configuration\n    publicDir: 'public',\n    \n    // React configuration\n    reactVersion: '^18.0.0',\n    jsxRuntime: 'automatic'  // Modern JSX transform\n  },\n  \n  assets: {\n    // Customize Vite config for CRA compatibility\n    'vite.config.ts': (current) => ({\n      ...current,\n      build: {\n        ...current?.build,\n        outDir: 'build',      // Match CRA build directory\n        emptyOutDir: true\n      },\n      server: {\n        ...current?.server,\n        port: 3000,\n        open: true            // Auto-open browser like CRA\n      },\n      \n      // Environment variable compatibility\n      define: {\n        // CRA-style environment variables\n        'process.env.NODE_ENV': '\"development\"'\n      }\n    }),\n    \n    // Update package.json scripts to match CRA commands\n    'package.json': (current) => ({\n      ...current,\n      scripts: {\n        ...current?.scripts,\n        'start': 'run dev',     // Match CRA's 'start' command\n        'build': 'run build',\n        'test': 'run test',\n        'eject': undefined      // Remove CRA's eject command\n      }\n    })\n  }\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-6-handle-public-directory",children:"Step 6: Handle Public Directory"}),"\n",(0,i.jsxs)(n.p,{children:["CRA projects use a ",(0,i.jsx)(n.code,{children:"public"})," directory. Ensure Vite handles it correctly:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="public/index.html"',children:'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <meta name="theme-color" content="#000000" />\n    <meta name="description" content="Web site created using Create React App" />\n    <title>React App</title>\n  </head>\n  <body>\n    <noscript>You need to enable JavaScript to run this app.</noscript>\n    <div id="root"></div>\n    \x3c!-- Vite will inject the module script automatically --\x3e\n  </body>\n</html>\n'})}),"\n",(0,i.jsx)(n.h3,{id:"step-7-update-source-files",children:"Step 7: Update Source Files"}),"\n",(0,i.jsx)(n.p,{children:"Update your main entry point for Vite compatibility:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/main.tsx"',children:"// Rename index.tsx to main.tsx (Vite convention) or update vite.config.ts\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you prefer to keep ",(0,i.jsx)(n.code,{children:"index.tsx"}),", update Vite config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="vite.config.ts (if keeping index.tsx)"',children:"export default defineConfig({\n  build: {\n    rollupOptions: {\n      input: './src/index.tsx'  // Specify custom entry point\n    }\n  }\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-8-handle-environment-variables",children:"Step 8: Handle Environment Variables"}),"\n",(0,i.jsxs)(n.p,{children:["CRA uses ",(0,i.jsx)(n.code,{children:"REACT_APP_"})," prefixed environment variables. Configure Vite to match:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="vite.config.ts"',children:"export default defineConfig({\n  // Make REACT_APP_ variables available\n  envPrefix: ['REACT_APP_', 'VITE_'],\n  \n  define: {\n    // Maintain compatibility with process.env usage\n    'process.env': 'import.meta.env'\n  }\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"Update environment variable usage in your code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/config.ts"',children:"// Before (CRA style)\nconst apiUrl = process.env.REACT_APP_API_URL;\n\n// After (Vite style) - preferred\nconst apiUrl = import.meta.env.REACT_APP_API_URL;\n\n// Or create a compatibility layer\nconst env = import.meta.env;\nconst config = {\n  apiUrl: env.REACT_APP_API_URL || 'http://localhost:3001',\n  isDevelopment: env.DEV,\n  isProduction: env.PROD\n};\n\nexport default config;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-9-update-testing-setup",children:"Step 9: Update Testing Setup"}),"\n",(0,i.jsx)(n.p,{children:"CRA included Jest and React Testing Library. Add them back:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Add testing dependencies\npnpm add -D @testing-library/react @testing-library/jest-dom @testing-library/user-event\npnpm add -D @vitejs/plugin-react jsdom\n"})}),"\n",(0,i.jsx)(n.p,{children:"Configure Vitest (Vite's test runner):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="vitest.config.ts"',children:"import { defineConfig } from 'vitest/config';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    environment: 'jsdom',\n    setupFiles: ['./src/test/setup.ts']\n  }\n});\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/test/setup.ts"',children:"import '@testing-library/jest-dom';\n\n// Global test setup\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: vi.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: vi.fn(), // deprecated\n    removeListener: vi.fn(), // deprecated\n    addEventListener: vi.fn(),\n    removeEventListener: vi.fn(),\n    dispatchEvent: vi.fn(),\n  })),\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-10-handle-css-and-assets",children:"Step 10: Handle CSS and Assets"}),"\n",(0,i.jsx)(n.p,{children:"CRA supported CSS imports directly. Vite does too, but with some differences:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/App.tsx"',children:"// CSS imports work the same way\nimport './App.css';\n\n// For CSS modules (if you used them)\nimport styles from './App.module.css';\n\n// SVG imports need updating\n// Before (CRA):\nimport logo from './logo.svg';\n\n// After (Vite):\nimport logo from './logo.svg?react'; // For React component\n// or\nimport logoUrl from './logo.svg';    // For URL string\n"})}),"\n",(0,i.jsx)(n.h3,{id:"step-11-update-package-scripts",children:"Step 11: Update Package Scripts"}),"\n",(0,i.jsxs)(n.p,{children:["Your new ",(0,i.jsx)(n.code,{children:"package.json"})," scripts after migration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "start": "run dev",           // Start development server\n    "build": "run build",         // Build for production\n    "test": "run test",           // Run tests\n    "preview": "run preview",     // Preview production build\n    "lint": "run lint",           // Lint code\n    "typecheck": "run typecheck", // Type checking\n    "format": "run format"        // Format code\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"step-12-test-the-migration",children:"Step 12: Test the Migration"}),"\n",(0,i.jsx)(n.p,{children:"Verify everything works correctly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 1. Install dependencies\npnpm install\n\n# 2. Type checking\npnpm run typecheck\n\n# 3. Linting\npnpm run lint\n\n# 4. Start development server\npnpm start\n# Should open browser to http://localhost:3000\n\n# 5. Run tests\npnpm test\n\n# 6. Build for production\npnpm run build\n\n# 7. Preview production build\npnpm run preview\n"})}),"\n",(0,i.jsx)(n.h2,{id:"common-migration-issues",children:"Common Migration Issues"}),"\n",(0,i.jsx)(n.h3,{id:"issue-1-import-path-errors",children:"Issue 1: Import Path Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Absolute imports stop working\n",(0,i.jsx)(n.strong,{children:"Solution:"})," Configure path mapping in ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",metastring:'title="tsconfig.json"',children:'{\n  "compilerOptions": {\n    "baseUrl": "./src",\n    "paths": {\n      "@/*": ["*"],\n      "@components/*": ["components/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"issue-2-environment-variables-not-working",children:"Issue 2: Environment Variables Not Working"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," ",(0,i.jsx)(n.code,{children:"process.env.REACT_APP_*"})," variables are undefined\n",(0,i.jsx)(n.strong,{children:"Solution:"})," Use Vite's environment variable system:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/env.d.ts"',children:'/// <reference types="vite/client" />\n\ninterface ImportMetaEnv {\n  readonly REACT_APP_API_URL: string;\n  readonly REACT_APP_VERSION: string;\n  // Add other env variables here\n}\n\ninterface ImportMeta {\n  readonly env: ImportMetaEnv;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"issue-3-css-module-typing-issues",children:"Issue 3: CSS Module Typing Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," TypeScript errors with CSS modules\n",(0,i.jsx)(n.strong,{children:"Solution:"})," Add CSS module type definitions:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="src/types/css-modules.d.ts"',children:'declare module "*.module.css" {\n  const classes: { [key: string]: string };\n  export default classes;\n}\n\ndeclare module "*.module.scss" {\n  const classes: { [key: string]: string };\n  export default classes;\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"issue-4-build-output-differences",children:"Issue 4: Build Output Differences"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Problem:"})," Build output structure differs from CRA\n",(0,i.jsx)(n.strong,{children:"Solution:"})," Customize Vite build configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="vite.config.ts"',children:"export default defineConfig({\n  build: {\n    outDir: 'build',\n    assetsDir: 'static',  // Match CRA's static folder structure\n    rollupOptions: {\n      output: {\n        entryFileNames: 'static/js/[name].[hash].js',\n        chunkFileNames: 'static/js/[name].[hash].js',\n        assetFileNames: 'static/[ext]/[name].[hash].[ext]'\n      }\n    }\n  }\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"performance-improvements",children:"Performance Improvements"}),"\n",(0,i.jsx)(n.p,{children:"After migration, you'll see significant improvements:"}),"\n",(0,i.jsx)(n.h3,{id:"build-performance",children:"Build Performance"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Before (CRA)\nnpm run build\n# \u23f1\ufe0f  ~45-60 seconds\n\n# After (Presetter + Vite)\npnpm run build\n# \u23f1\ufe0f  ~5-15 seconds\n"})}),"\n",(0,i.jsx)(n.h3,{id:"development-server",children:"Development Server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Before (CRA)\nnpm start\n# \u23f1\ufe0f  ~15-30 seconds to start\n\n# After (Presetter + Vite)\npnpm start\n# \u23f1\ufe0f  ~1-3 seconds to start\n"})}),"\n",(0,i.jsx)(n.h3,{id:"hot-module-replacement",children:"Hot Module Replacement"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CRA"}),": Full page reload on most changes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vite"}),": Instant updates preserving component state"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"advanced-customizations",children:"Advanced Customizations"}),"\n",(0,i.jsx)(n.h3,{id:"adding-storybook-support",children:"Adding Storybook Support"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm add -D @storybook/react-vite @storybook/addon-essentials\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title=".storybook/main.ts"',children:"import type { StorybookConfig } from '@storybook/react-vite';\n\nconst config: StorybookConfig = {\n  stories: ['../src/**/*.stories.@(js|jsx|ts|tsx)'],\n  addons: ['@storybook/addon-essentials'],\n  framework: {\n    name: '@storybook/react-vite',\n    options: {}\n  }\n};\n\nexport default config;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"adding-pwa-support",children:"Adding PWA Support"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm add -D vite-plugin-pwa\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",metastring:'title="vite.config.ts"',children:"import { VitePWA } from 'vite-plugin-pwa';\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    VitePWA({\n      registerType: 'autoUpdate',\n      workbox: {\n        globPatterns: ['**/*.{js,css,html,ico,png,svg}']\n      }\n    })\n  ]\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"migration-checklist",children:"Migration Checklist"}),"\n",(0,i.jsx)(n.h3,{id:"-pre-migration",children:"\u2705 Pre-Migration"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Backup project in Git"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Document current CRA version"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Test all functionality works"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Note any custom configurations"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-during-migration",children:"\u2705 During Migration"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove react-scripts"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Install Presetter React preset"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure presetter.config.ts"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Update HTML entry point"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Handle environment variables"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Update imports and assets"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-post-migration",children:"\u2705 Post-Migration"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","All pages render correctly"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Development server starts quickly"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Hot reload works properly"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Tests pass"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Production build completes"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Build output serves correctly"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Environment variables work"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","CSS/assets load properly"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-optimization",children:"\u2705 Optimization"}),"\n",(0,i.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Remove unused dependencies"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Configure build optimizations"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Set up CI/CD with new scripts"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Update documentation"]}),"\n",(0,i.jsxs)(n.li,{className:"task-list-item",children:[(0,i.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Train team on new workflow"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsx)(n.p,{children:"After successful migration:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Explore Advanced Features"}),": Custom presets, additional tooling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance Optimization"}),": Bundle analysis, lazy loading"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Team Training"}),": Share new development workflow"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CI/CD Updates"}),": Update deployment scripts for new build process"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Migration Time:"})," 2-4 hours",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Difficulty:"})," Intermediate",(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Prerequisites:"})," Existing CRA project, basic React knowledge"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var s=t(6540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);